# fzf-open-go

![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)
![Go Version](https://img.shields.io/badge/go-1.24%2B-blue)

`fzf-open-go` - это утилита командной строки, которая использует [fzf](https://github.com/junegunn/fzf) (fuzzy finder) для интерактивного выбора и открытия файлов в соответствующих приложениях. Программа автоматически определяет тип файла и открывает его в подходящем приложении на основе расширения файла и/или MIME-типа.

## Особенности

- Быстрый интерактивный поиск и открытие файлов через fzf
- Автоматическое определение типа файла и выбор соответствующего приложения
- Настраиваемые ассоциации типов файлов с приложениями
- Возможность запуска как в текущем терминале, так и в новом окне
- Поддержка настройки начальной директории поиска
- Минимальные зависимости

## Установка

### Вариант 1: Использование предустановленной версии

Скачайте последнюю версию из [релизов](https://github.com/abshka/fzf-open-go/releases) и установите:

```bash
sudo wget -O /usr/local/bin/fzf-open https://github.com/abshka/fzf-open-go/releases/latest/download/fzf-open
sudo chmod +x /usr/local/bin/fzf-open
```

### Вариант 2: Сборка из исходников

Если вы хотите настроить приложения для открытия различных типов файлов, соберите программу из исходников:

1. Клонируйте репозиторий:
```bash
git clone https://github.com/abshka/fzf-open-go.git
cd fzf-open-go
```

2. Отредактируйте файл `fzf-open.go` в разделе конфигурации:
```go
// Измените следующие настройки на свои предпочтения
defaultConfig = DefaultConfig{
    Terminal:     "alacritty", // Замените на ваш терминал
    StartingDir:  "~",
    WinTitleFlag: "--title",
    WinTitle:     "fzf-open-run",
}

appAssociations = AppAssociations{
    TextEditor:        "zeditor",        // Замените на свой текстовый редактор
    PDFViewer:         "zathura",        // Замените на свой PDF-просмотрщик
    ImageViewer:       "eog",            // Замените на свой просмотрщик изображений
    VideoPlayer:       "vlc",            // Замените на свой видеоплеер
    SpreadsheetEditor: "wps",            // Замените на свой редактор электронных таблиц
    WebBrowser:        "thorium-browser", // Замените на свой браузер
    DocxViewer:        "wps",            // Замените на свой просмотрщик docx
    FallbackOpener:    "xdg-open",       // Запасной вариант открытия
}
```

3. Скомпилируйте программу:
```bash
go build -o fzf-open
```

4. Установите программу:
```bash
sudo mv fzf-open /usr/local/bin/
sudo chmod +x /usr/local/bin/fzf-open
```

### Зависимости

- [fzf](https://github.com/junegunn/fzf) - для интерактивного поиска файлов
- `xdg-mime` - для определения MIME-типов файлов
- Терминальный эмулятор (по умолчанию `alacritty`, настраивается)

## Использование

### Базовое использование

Просто запустите `fzf-open` без аргументов:

```bash
fzf-open
```

Программа запустит fzf в текущем терминале, позволяя выбрать файл из домашней директории и автоматически откроет его в соответствующем приложении.

### Опции

```
-d <путь>  Задать начальную директорию (по умолчанию: ~)
-n         Запустить fzf в новом окне терминала
-t <команда> Указать команду терминального эмулятора (по умолчанию: alacritty)
-k         Оставить окно открытым после выбора файла (не закрывать автоматически)
```

### Примеры использования

Запуск в домашней директории:
```bash
fzf-open
```

Запуск с указанием начальной директории:
```bash
fzf-open -d ~/Documents
```

Запуск в новом окне терминала:
```bash
fzf-open -n
```

Запуск в указанной директории с новым окном:
```bash
fzf-open -n -d ~/Projects
```

Запуск с другим терминальным эмулятором:
```bash
fzf-open -t gnome-terminal
```

Запуск с сохранением окна открытым после выбора файла:
```bash
fzf-open -k
```

## Поддерживаемые типы файлов

Программа распознает и открывает в соответствующих приложениях следующие типы файлов:

- **Текстовые файлы:** txt, md, code (различные языки программирования), конфигурационные файлы
- **Документы:** pdf, docx, doc, odt
- **Изображения:** png, jpg, jpeg, gif, bmp, webp, svg и другие
- **Видео и аудио:** mp4, mkv, mp3, flac и другие популярные форматы
- **Электронные таблицы:** csv, xlsx, ods
- **Веб-страницы:** html, htm

Файлы, тип которых не может быть определен, открываются с помощью `FallbackOpener` (по умолчанию `xdg-open`).

## Устранение неполадок

### Программа не может найти fzf

Убедитесь, что fzf установлен и находится в PATH:
```bash
which fzf
```

Если fzf не установлен, установите его:
```bash
# Для Debian/Ubuntu
sudo apt install fzf

# Для Fedora
sudo dnf install fzf

# Для Arch Linux
sudo pacman -S fzf
```

### Ошибка "Terminal command not found"

Убедитесь, что указанный терминальный эмулятор установлен и находится в PATH или используйте другой с опцией `-t`:
```bash
fzf-open -t gnome-terminal
```

### Файлы открываются в неподходящих приложениях

Если файлы открываются не в тех приложениях, которые вы предпочитаете, скомпилируйте программу из исходников и измените настройки `appAssociations` в файле `fzf-open.go`.

### Проблемы с различными типами файлов

Если программа неправильно определяет или не может открыть определенный тип файла, убедитесь, что:
1. Пакет `xdg-mime` установлен
2. Соответствующее приложение настроено в `appAssociations` и доступно в системе

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл LICENSE для получения подробной информации.

## Вклад в проект

Вклады и улучшения приветствуются! Пожалуйста, ознакомьтесь с нашими правилами в файле CONTRIBUTING.md.

1. Форкните проект
2. Создайте ветку с вашей функцией (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте изменения (`git commit -m 'Add some amazing feature'`)
4. Отправьте ветку (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

## Контакты

- [Telegram](https://t.me/abshka)

---

*Примечание: fzf-open-go - независимый проект, не связанный с проектом fzf, но использующий его возможности.*
